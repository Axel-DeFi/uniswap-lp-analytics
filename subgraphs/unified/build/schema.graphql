# Minimal schema for pools and tokens (V3 & V4). We keep Pool mutable and Token immutable.

type Token @entity(immutable: true) {
  id: ID!                       # token address (lowercase)
  symbol: String
  name: String
  decimals: Int!
  chainId: Int!
  createdAtTimestamp: BigInt!
}

type Pool @entity(immutable: false) {
  id: ID!                       # V3: pool address; V4: bytes32 pool id
  version: Int!                 # 3 or 4
  chainId: Int!                 # 1 for Ethereum mainnet in this step
  token0: Token!                # relation to Token
  token1: Token!                # relation to Token
  feeTierBps: Int!              # uint24
  tickSpacing: Int!             # int24
  createdAtTimestamp: BigInt!
}
